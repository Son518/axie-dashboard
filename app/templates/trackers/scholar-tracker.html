{% extends "layouts/scholar-tracker-base.html" %}
{% block content %}
<main class="container position-relative px-xxl-5 px-xl-4 px-lg-3 px-md-2 px-sm-1">
    <div class="price-link d-flex justify-content-between align-items-center mb-5 flex-wrap">
        <div
            class="slp-exchange-area d-flex align-items-center justify-content-center rounded-5 py-3  py-lg-1 px-10 mt-4 flex-wrap">
            <p class="text-white fs-6 text-slp">Smooth Love Potion Price (SLP)</p>
            <p class="price-letter fs-main-semi ps-3 pe-4">&euro;0.275</p>
            <div class="price-percent py-2 px-4 rounded-4">
                <i class="bi bi-caret-up-fill me-3"></i>13.21%
            </div>
        </div>
        <div class="link-address text-center text-white fs-5 fs-main-semi mt-4">
            <img src="/static/assets/img/scholar-tracker/icon-heart.png" alt="heart" class="me-3" />
            Love this group? Please consider <span class="text-green-2">do`nating.</span>
        </div>
    </div>
    <div class="top-box cards row">
        <div
            class="col-md-12 col-lg-8 col-xll-4 justify-content-around align-items-center d-flex flex-column flex-md-row">
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total Average</p>
                <div class="fs-7 text-white">
                    {{ "%.2f" | format(slpdata.avg_total) }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.avg_total | float)}} GBP</p>
            </div>
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total SLP</p>
                <div class="fs-7 text-white">
                    {{ slpdata.sum_total }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.sum_total | float)}} GBP</p>
            </div>
        </div>
        <div class="col-md-6 col-lg-4 col-xll-2 justify-content-around d-flex">
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total unclaimed SLP</p>
                <div class="fs-7 text-white">
                    {{ slpdata.sum_unclaimed }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.sum_unclaimed | float)}} GBP</p>
            </div>
        </div>
        <div class="col-md-6 col-lg-4 col-xll-2 justify-content-around d-flex">
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total claimed SLP</p>
                <div class="fs-7 text-white">
                    {{ slpdata.sum_claimed }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.sum_claimed | float)}} GBP</p>
            </div>
        </div>
        <div
            class="col-md-12 col-lg-8 col-xll-4 justify-content-around align-items-center d-flex flex-column flex-md-row">
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total Manager SLP</p>
                <div class="fs-7 text-white">
                    {{ slpdata.sum_manager }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.sum_manager | float)}} GBP</p>
            </div>
            <div
                class="price-card d-flex justify-content-center align-items-center flex-column flex-shrink-0 rounded-5 mb-5">
                <p class="fs-5 mb-1 text-black fs-main-semi">Total Scholar SLP</p>
                <div class="fs-7 text-white">
                    {{ slpdata.sum_scholar }}
                    <img src="/static/assets/img/scholar-tracker/icon-slp.png" alt="slp-icon" />
                </div>
                <p class="fs-5-b text-white">&#8776;&pound;{{"%.2f" | format(currentRateForSLP * slpdata.sum_scholar | float)}} GBP</p>
            </div>
        </div>
    </div>
    <div class="data-area main-table rounded-5">
        <div class="main-table-header d-flex justify-content-between flex-wrap align-items-center py-4 ">
            <div class="search-group d-flex align-items-center">
                <div class="search-title">
                    <i class="bi bi-search text-orange-2 me-3 fs-5"></i>
                    <span class="text-white fs-4">Search</span>
                </div>
                <input type="text" name="search" placeholder="Type your text"
                    class="table-search fs-5 mx-3 rounded-4 w-100">
            </div>
            <a href="#" class="btn-export flex-shrink-0 bg-orange-2 fs-5-b rounded-4 ">Export Excel</a>
            <a href="#settingModalToggle" class="btn-setting flex-shrink-0 rounded-4 fs-5-b ms-auto" data-bs-toggle="modal" role="button">
                <img src="/static/assets/img/scholar-tracker/icon-setting.png" alt="setting-icon" />
                Settings
            </a>
        </div>
        <div class="main-table-body">
            <table class="table table-striped table-responsive text-center align-middle table-borderless fs-5-b">
                <thead>
                    <tr class="text-orange-3 fs-semi align-middle">
                        <th colspan="2"></th>
                        <th colspan="6" class="border-left">SLP</th>
                        <th colspan="2" class="border-left"></th>
                        <th colspan="2" class="border-left">Sharing <br />* M - Manager / S - Scholar</th>
                        <th class="border-left" colspan="2"></th>
                    </tr>
                    <tr class="fs-bold">
                        <th>#</th>
                        <th>Name</th>
                        <th class="border-left">Today</th>
                        <th>Yesterday</th>
                        <th>Average</th>
                        <th>Unclaimed</th>
                        <th>Claimed</th>
                        <th>Total</th>
                        <th class="border-left">Last Claim</th>
                        <th>Claim on</th>
                        <th class="border-left">M</th>
                        <th>M</th>
                        <th class="border-left" colspan="2">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in tabledata %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <td><span><a class="link-primary"
                            href="https://marketplace.axieinfinity.com/profile/ronin:nin:{{row.RoninAddress[2:]}}/axie"
                            target="_blank" rel="noreferrer">{{row.Name}}</a></strong></span></td>
                        <td>N/A</td>
                        <td><span class="yesterday rounded-3">-</span></td>
                        <td>-</td>
                        <td>{{row.unclaimed}}</td>
                        <td>{{row.claimed}}</td>
                        <td>{{row.total}}</td>
                        <td>{{ row.lastclaim | datetime_from_epoch }}</br>
                            <!-- <span class="text-cyan">18:35:25</span> -->
                        </td>
                        <td>{{ row.nextclaim | datetime_from_epoch }}</br>
                            <!-- <span class="text-cyan">18:35:25</span> -->
                        </td>
                        <td>{{"{:.2f}".format(row.manager/100 * row.total)}}
                            <span class="text-green-2">({{row.manager}}%)</span></td>
                        <td>{{"{:.2f}".format(row.scholar/100 * row.total)}}
                             <span class="text-green-2">({{row.scholar}}%)</span></td>
                        <td><i class="bi bi-pencil-square btn-action bg-green-2"></i></td>
                        <td><i class="bi bi-trash btn-action bg-blue-2"></i></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="settingModalToggle" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Settings</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row mt-3">
                              <div class="col-md-2">Sort</div>
                              <div class="col-md-5">
                                <select class="form-select" aria-label="Select a column">
                                    <option value="1">Name</option>
                                    <option value="2">Average</option>
                                    <option value="3">Unclaimed</option>
                                    <option value="4">Claimed</option>
                                    <option value="5">Total</option>
                                    <option value="6">Last Claim</option>
                                    <option value="7">MMR</option>
                                    <option value="8">Rank</option>
                                </select>
                              </div>
                              <div class="col-md-5 ms-auto">
                                <select class="form-select" aria-label="Select a column">
                                    <option value="1">Ascending</option>
                                    <option value="2">Descending</option>
                                </select>
                              </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-3">Currency</div>
                                <div class="col-md-9">
                                    <select class="form-select" aria-label="Select a column">
                                        <option value="1">BTC</option>
                                        <option value="2">ETH</option>
                                        <option value="3">LTC</option>
                                        <option value="4">BCH</option>
                                        <option value="5">BNB</option>
                                        <option value="6">EOS</option>
                                        <option value="7">XRP</option>
                                        <option value="8">XLM</option>
                                        <option value="9">LINK</option>
                                        <option value="10">DOT</option>
                                        <option value="11">TFI</option>
                                        <option value="12">USD</option>
                                        <option value="13">AED</option>
                                        <option value="14">ARS</option>
                                        <option value="15">AUD</option>
                                        <option value="16">BDT</option>
                                        <option value="17">BHD</option>
                                        <option value="18">BMD</option>
                                        <option value="19">BRL</option>
                                        <option value="20">CAD</option>
                                        <option value="20">CAD</option>
                                        <option value="21">PHP</option>
                                        <option value="22">GBP</option>
                                        <option value="23">USD</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">Minimum Quota</div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" value="150">
                                </div>
                            </div>
                            <div class="row mt-3">
                                TABLE OPTIONS
                            </div>
                            <div class="row mt-1">
                                <input class="form-check-input me-1" type="checkbox" value="" aria-label="...">
                                Show full date
                            </div>
                            <div class="row mt-1">
                                <input class="form-check-input me-1" type="checkbox" value="" aria-label="...">
                                Show value
                            </div>
                            <div class="row mt-1">
                                <input class="form-check-input me-1" type="checkbox" value="" aria-label="...">
                                Show ELO (MMR)
                            </div>
                            <div class="row mt-1">
                                <input class="form-check-input me-1" type="checkbox" value="" aria-label="...">
                                Show Rank
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Done</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="logo-bottom position-absolute top-100 start-50 translate-middle">
            <img src="/static/assets/img/scholar-tracker/logo-lfg-footer.png" alt="logo-bottom" />
        </div>
    </div>
</main>

{% endblock content %}